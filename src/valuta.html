<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GameVault — Valutazioni</title>
    <meta name="description" content="Recensioni e valutazioni della community GameVault." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <style>
      :root { color-scheme: dark; --bg:#0b0f17; --bg-soft:#0f1622; --surface:#141b2b; --surface-2:#1a2233; --border:#23314f; --text:#e7edf7; --muted:#9aa6c4; --accent:#38bdf8; --accent-2:#8b5cf6; --shadow:0 20px 60px rgba(8,14,26,.45); --radius-lg:22px; --radius-md:16px; --radius-sm:12px; }
      *{box-sizing:border-box;margin:0;padding:0}
      body{font-family:"Inter",system-ui,-apple-system,sans-serif;background:radial-gradient(circle at top,#111827 0%,var(--bg) 45%);color:var(--text);line-height:1.6}
      a{color:inherit;text-decoration:none}
      .container{width:min(1200px,92vw);margin:0 auto}
      header{position:sticky;top:0;z-index:20;background:rgba(11,15,23,.75);backdrop-filter:blur(14px);border-bottom:1px solid rgba(35,49,79,.7)}
      .nav{display:flex;align-items:center;justify-content:space-between;padding:16px 0;gap:20px}
      .logo{font-weight:800;font-size:1.25rem;display:flex;align-items:center;gap:10px}
      .logo-badge{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:grid;place-items:center;font-weight:700}
      .nav-links{display:flex;gap:18px;font-weight:500;color:var(--muted)}
      .nav-links a.active{color:var(--text)}
      .nav-actions{display:flex;align-items:center;gap:12px}
      .btn{padding:10px 16px;border-radius:999px;border:1px solid transparent;background:var(--surface-2);color:var(--text);font-weight:600;display:inline-flex;align-items:center;gap:8px;transition:all .2s ease}
      .btn:hover{border-color:var(--accent);color:#fff;transform:translateY(-1px)}
      .btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));border:none}
      .section{padding:60px 0}
      .section-title{display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:24px}
      .chip{padding:6px 12px;border-radius:999px;border:1px solid rgba(35,49,79,.7);color:var(--muted);font-size:.8rem;background:rgba(255,255,255,.02)}
      .reviews-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-top:20px}
      .review-form{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:20px;display:grid;gap:12px}
      .review-form input,.review-form select,.review-form textarea{background:var(--surface-2);border:1px solid rgba(35,49,79,.7);color:var(--text);padding:10px 12px;border-radius:10px;outline:none}
      .review-form textarea{min-height:120px;resize:vertical}
      .rating-input{display:grid;gap:6px}
      .rating-stars{display:flex;gap:6px}
      .rating-stars button{background:rgba(255,255,255,.04);border:1px solid rgba(35,49,79,.6);color:var(--muted);border-radius:10px;padding:8px 10px;cursor:pointer;transition:all .2s ease}
      .rating-stars button.active,.rating-stars button:hover{color:#fbbf24;border-color:rgba(251,191,36,.6)}
      .review-card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:18px;display:grid;gap:10px}
      .review-header{display:flex;justify-content:space-between;gap:12px}
      .review-header span{color:var(--muted)}
      .modal-desc{color:var(--muted)}
      .modal-overlay{position:fixed;inset:0;background:rgba(5,8,15,.7);display:none;align-items:center;justify-content:center;z-index:50;backdrop-filter:blur(6px)}
      .modal{width:min(560px,92vw);background:linear-gradient(180deg,rgba(26,34,51,.95),rgba(20,27,43,.98));border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;box-shadow:var(--shadow)}
      .modal-header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:12px}
      .modal-close{background:transparent;border:1px solid rgba(35,49,79,.7);color:var(--muted);border-radius:999px;padding:6px 12px;cursor:pointer;transition:all .2s ease}
      .modal-close:hover{color:#fff;border-color:var(--accent)}
      .auth-tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:16px}
      .auth-tab.active{border-color:var(--accent);color:#fff}
      .auth-form{display:grid;gap:12px}
      .auth-form input{background:var(--surface-2);border:1px solid rgba(35,49,79,.7);color:var(--text);padding:10px 12px;border-radius:10px;outline:none}
      .auth-message{color:var(--muted);font-size:.9rem}
      .shake{animation:shake .3s ease}
      @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}
      @media (max-width:720px){.nav-links{display:none}}
    </style>
  </head>
  <body>
    <header>
      <div class="container nav">
        <div class="logo"><span class="logo-badge">GV</span>GameVault</div>
        <nav class="nav-links"><a href="index.html#catalogo">Catalogo</a><a href="valuta.html" class="active">Valutazioni</a><a href="index.html#community">Community</a></nav>
        <div class="nav-actions"><button class="btn" id="login-btn">Accedi</button><button class="btn btn-primary" id="signup-btn">Crea account</button></div>
      </div>
    </header>
    <main>
      <section class="section" id="valutazioni">
        <div class="container">
          <div class="section-title"><h2>Valutazioni giochi</h2><span class="chip">Recensioni community</span></div>
          <div class="reviews-grid">
            <form class="review-form" id="review-form">
              <h3>Lascia una valutazione</h3>
              <input type="text" id="reviewer" placeholder="Il tuo nome" required />
              <select id="review-platform" required><option value="">Seleziona una console</option></select>
              <select id="review-game" required><option value="">Seleziona un gioco</option></select>
              <div class="rating-input">
                <label class="muted">Voto</label>
                <div class="rating-stars" id="rating-stars">
                  <button type="button" data-value="1">★</button>
                  <button type="button" data-value="2">★</button>
                  <button type="button" data-value="3">★</button>
                  <button type="button" data-value="4">★</button>
                  <button type="button" data-value="5">★</button>
                </div>
              </div>
              <textarea id="review-text" placeholder="Scrivi una breve recensione..." required></textarea>
              <button class="btn btn-primary" type="submit">Pubblica</button>
            </form>
            <div>
              <div class="section-title" style="margin-bottom:12px"><h3>Ultime recensioni</h3><span class="chip" id="review-count">0</span></div>
              <div class="reviews-grid" id="reviews"></div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <div class="modal-overlay" id="auth-modal" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="auth-title">
        <div class="modal-header">
          <h3 id="auth-title">Account</h3>
          <button class="modal-close" type="button" id="auth-close">Chiudi</button>
        </div>
        <div class="modal-body">
          <div class="auth-tabs">
            <button class="btn auth-tab active" type="button" data-mode="signup">Registrati</button>
            <button class="btn auth-tab" type="button" data-mode="login">Accedi</button>
          </div>
          <form class="auth-form" id="auth-form">
            <input type="text" id="auth-name" placeholder="Nome e cognome" required />
            <input type="email" id="auth-email" placeholder="Email" required />
            <input type="password" id="auth-password" placeholder="Password (min 6 caratteri)" minlength="6" required />
            <button class="btn btn-primary" type="submit" id="auth-submit">Crea account</button>
            <p class="auth-message" id="auth-message"></p>
          </form>
        </div>
      </div>
    </div>
    <script>
      const games = [
        { title: "Minecraft", platforms: ["Nintendo Switch", "PlayStation 4", "PlayStation 3", "Xbox One", "PC"] },
        { title: "The Legend of Zelda: Breath of the Wild", platforms: ["Nintendo Switch"] },
        { title: "Mario Kart 8 Deluxe", platforms: ["Nintendo Switch"] },
        { title: "Super Smash Bros. Ultimate", platforms: ["Nintendo Switch"] },
        { title: "Animal Crossing: New Horizons", platforms: ["Nintendo Switch"] },
        { title: "Super Mario Odyssey", platforms: ["Nintendo Switch"] },
        { title: "Splatoon 3", platforms: ["Nintendo Switch"] },
        { title: "Pokémon Scarlet", platforms: ["Nintendo Switch"] },
        { title: "Metroid Dread", platforms: ["Nintendo Switch"] },
        { title: "Xenoblade Chronicles 3", platforms: ["Nintendo Switch"] },
        { title: "God of War", platforms: ["PlayStation 4"] },
        { title: "The Last of Us Remastered", platforms: ["PlayStation 4"] },
        { title: "Uncharted 4: A Thief's End", platforms: ["PlayStation 4"] },
        { title: "Horizon Zero Dawn", platforms: ["PlayStation 4"] },
        { title: "Bloodborne", platforms: ["PlayStation 4"] },
        { title: "Dark Souls Remastered", platforms: ["PlayStation 4", "PC"] },
        { title: "Dark Souls II: Scholar of the First Sin", platforms: ["PlayStation 4", "Xbox One", "PC"] },
        { title: "Dark Souls III", platforms: ["PlayStation 4", "Xbox One", "PC"] },
        { title: "Sekiro: Shadows Die Twice", platforms: ["PlayStation 4", "Xbox One", "PC"] },
        { title: "Elden Ring", platforms: ["PlayStation 4", "Xbox One", "PC", "Steam Deck"] },
        { title: "Marvel's Spider-Man", platforms: ["PlayStation 4"] },
        { title: "Ghost of Tsushima", platforms: ["PlayStation 4"] },
        { title: "Grand Theft Auto V", platforms: ["PlayStation 4", "PlayStation 3", "Xbox One", "PC"] },
        { title: "Red Dead Redemption 2", platforms: ["PlayStation 4", "Xbox One", "PC"] },
        { title: "Persona 5", platforms: ["PlayStation 4"] },
        { title: "The Last of Us Part II", platforms: ["PlayStation 4"] },
        { title: "Days Gone", platforms: ["PlayStation 4"] },
        { title: "Death Stranding", platforms: ["PlayStation 4"] },
        { title: "Gran Turismo Sport", platforms: ["PlayStation 4"] },
        { title: "Demon's Souls", platforms: ["PlayStation 3"] },
        { title: "The Last of Us", platforms: ["PlayStation 3"] },
        { title: "Uncharted 2: Among Thieves", platforms: ["PlayStation 3"] },
        { title: "Metal Gear Solid 4", platforms: ["PlayStation 3"] },
        { title: "God of War III", platforms: ["PlayStation 3"] },
        { title: "Gran Turismo 6", platforms: ["PlayStation 3"] },
        { title: "Luigi's Mansion 3", platforms: ["Nintendo Switch"] },
        { title: "Fire Emblem: Three Houses", platforms: ["Nintendo Switch"] },
        { title: "Super Mario Bros. Wonder", platforms: ["Nintendo Switch"] },
        { title: "Pokémon X", platforms: ["Nintendo 3DS"] },
        { title: "Mario Kart 7", platforms: ["Nintendo 3DS"] },
        { title: "Fire Emblem: Awakening", platforms: ["Nintendo 3DS"] },
        { title: "Animal Crossing: New Leaf", platforms: ["Nintendo 3DS"] },
        { title: "Forza Horizon 5", platforms: ["Xbox Series X|S"] },
        { title: "Halo Infinite", platforms: ["Xbox Series X|S"] },
        { title: "Starfield", platforms: ["Xbox Series X|S"] },
        { title: "Hi-Fi RUSH", platforms: ["Xbox Series X|S"] },
        { title: "Gears 5", platforms: ["Xbox One"] },
        { title: "Sea of Thieves", platforms: ["Xbox One"] },
        { title: "Forza Horizon 4", platforms: ["Xbox One"] },
        { title: "Halo 5: Guardians", platforms: ["Xbox One"] },
        { title: "Baldur's Gate 3", platforms: ["PC", "Steam Deck"] },
        { title: "Cyberpunk 2077", platforms: ["PC"] },
        { title: "The Witcher 3: Wild Hunt", platforms: ["PC", "Steam Deck"] },
        { title: "Counter-Strike 2", platforms: ["PC"] },
        { title: "VALORANT", platforms: ["PC"] },
        { title: "Hades", platforms: ["Steam Deck"] },
        { title: "Hollow Knight", platforms: ["Steam Deck"] },
        { title: "Stardew Valley", platforms: ["Steam Deck"] },
        { title: "Celeste", platforms: ["Steam Deck"] },
        { title: "Super Mario 3D World", platforms: ["Wii U"] },
        { title: "Mario Kart 8", platforms: ["Wii U"] },
        { title: "Splatoon", platforms: ["Wii U"] },
        { title: "Grand Theft Auto: San Andreas", platforms: ["PS2"] },
        { title: "God of War II", platforms: ["PS2"] },
        { title: "Shadow of the Colossus", platforms: ["PlayStation 4"] }
      ];
      const reviewForm = document.getElementById("review-form");
      const reviewPlatform = document.getElementById("review-platform");
      const reviewGame = document.getElementById("review-game");
      const reviewText = document.getElementById("review-text");
      const reviewerInput = document.getElementById("reviewer");
      const reviewList = document.getElementById("reviews");
      const reviewCount = document.getElementById("review-count");
      const ratingStars = document.getElementById("rating-stars");
      const loginBtn = document.getElementById("login-btn");
      const signupBtn = document.getElementById("signup-btn");
      const authModal = document.getElementById("auth-modal");
      const authClose = document.getElementById("auth-close");
      const authForm = document.getElementById("auth-form");
      const authTabs = document.querySelectorAll(".auth-tab");
      const authName = document.getElementById("auth-name");
      const authEmail = document.getElementById("auth-email");
      const authPassword = document.getElementById("auth-password");
      const authSubmit = document.getElementById("auth-submit");
      const authMessage = document.getElementById("auth-message");
      const USERS_KEY = "gamevaultUsers";
      const CURRENT_KEY = "gamevaultCurrentUser";
      let authMode = "signup";
      let selectedRating = 0;
      const platformMap = { "PlayStation 4": "PS4", "PlayStation 3": "PS3" };
      games.forEach((game) => {
        game.platforms = game.platforms.map((platform) => platformMap[platform] ?? platform);
        game.platformLabel = game.platforms.join(" / ");
      });
      const getPlatforms = () => {
        const set = new Set();
        games.forEach((game) => game.platforms.forEach((platform) => set.add(platform)));
        return Array.from(set).sort((a, b) => a.localeCompare(b, "it"));
      };
      const renderPlatformOptions = () => {
        reviewPlatform.innerHTML = '<option value="">Seleziona una console</option>';
        getPlatforms().forEach((platform) => {
          const option = document.createElement("option");
          option.value = platform;
          option.textContent = platform;
          reviewPlatform.appendChild(option);
        });
      };
      const renderReviewOptions = () => {
        reviewGame.innerHTML = '<option value="">Seleziona un gioco</option>';
        const platform = reviewPlatform.value;
        const filteredGames = platform ? games.filter((game) => game.platforms.includes(platform)) : [];
        filteredGames.forEach((game) => { const option = document.createElement("option"); option.value = game.title; option.textContent = game.title; reviewGame.appendChild(option); });
        reviewGame.disabled = !platform;
      };
      const openAuthModal = (mode) => {
        authMode = mode;
        authTabs.forEach((tab) => tab.classList.toggle("active", tab.dataset.mode === mode));
        authName.style.display = mode === "signup" ? "block" : "none";
        authName.required = mode === "signup";
        authSubmit.textContent = mode === "signup" ? "Crea account" : "Accedi";
        authMessage.textContent = "";
        authForm.reset();
        authModal.style.display = "flex";
        authModal.setAttribute("aria-hidden", "false");
      };
      const closeAuthModal = () => { authModal.style.display = "none"; authModal.setAttribute("aria-hidden", "true"); };
      const loadUsers = () => {
        try {
          const saved = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
          return Array.isArray(saved) ? saved : [];
        } catch (error) {
          return [];
        }
      };
      const saveUsers = (users) => { localStorage.setItem(USERS_KEY, JSON.stringify(users)); };
      const getCurrentUser = () => {
        const email = localStorage.getItem(CURRENT_KEY);
        if (!email) return null;
        return loadUsers().find((user) => user.email === email) ?? null;
      };
      const setCurrentUser = (email) => { localStorage.setItem(CURRENT_KEY, email); };
      const clearCurrentUser = () => { localStorage.removeItem(CURRENT_KEY); };
      const updateAuthUi = () => {
        const user = getCurrentUser();
        if (user) {
          signupBtn.textContent = `Ciao, ${user.name}`;
          signupBtn.disabled = true;
          loginBtn.textContent = "Esci";
        } else {
          signupBtn.textContent = "Crea account";
          signupBtn.disabled = false;
          loginBtn.textContent = "Accedi";
        }
      };
      const STORAGE_KEY = "gamevaultReviews";
      const loadReviews = () => {
        try {
          const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
          return Array.isArray(saved) ? saved : [];
        } catch (error) {
          return [];
        }
      };
      const saveReviews = () => {
        localStorage.setItem(STORAGE_KEY, JSON.stringify(reviews));
      };
      const reviews = loadReviews();
      const renderReviews = () => {
        reviewList.innerHTML = "";
        reviews.slice().reverse().forEach((review) => {
          const card = document.createElement("article");
          card.className = "review-card";
          card.innerHTML = `
            <div class="review-header"><div><strong>${review.game}</strong><div class="muted">${review.name}</div></div><div><strong>${review.rating} ★</strong><div class="muted">${review.platform}</div></div></div>
            <p class="modal-desc">${review.text}</p>`;
          reviewList.appendChild(card);
        });
        reviewCount.textContent = reviews.length;
      };
      ratingStars.querySelectorAll("button").forEach((button) => {
        button.addEventListener("click", () => {
          selectedRating = Number(button.dataset.value);
          ratingStars.querySelectorAll("button").forEach((star) => star.classList.toggle("active", Number(star.dataset.value) <= selectedRating));
        });
      });
      authClose.addEventListener("click", closeAuthModal);
      authModal.addEventListener("click", (event) => { if (event.target === authModal) closeAuthModal(); });
      window.addEventListener("keydown", (event) => { if (event.key === "Escape" && authModal.getAttribute("aria-hidden") === "false") closeAuthModal(); });
      authTabs.forEach((tab) => tab.addEventListener("click", () => openAuthModal(tab.dataset.mode)));
      loginBtn.addEventListener("click", () => {
        if (getCurrentUser()) {
          clearCurrentUser();
          updateAuthUi();
          return;
        }
        openAuthModal("login");
      });
      signupBtn.addEventListener("click", () => {
        if (!getCurrentUser()) openAuthModal("signup");
      });
      authForm.addEventListener("submit", (event) => {
        event.preventDefault();
        const users = loadUsers();
        const email = authEmail.value.trim().toLowerCase();
        const password = authPassword.value.trim();
        if (authMode === "signup") {
          const name = authName.value.trim();
          if (!name || !email || password.length < 6) {
            authMessage.textContent = "Compila tutti i campi con una password valida.";
            return;
          }
          if (users.some((user) => user.email === email)) {
            authMessage.textContent = "Email già registrata.";
            return;
          }
          users.push({ name, email, password });
          saveUsers(users);
          setCurrentUser(email);
          updateAuthUi();
          closeAuthModal();
          return;
        }
        const existing = users.find((user) => user.email === email && user.password === password);
        if (!existing) {
          authMessage.textContent = "Credenziali non valide.";
          return;
        }
        setCurrentUser(existing.email);
        updateAuthUi();
        closeAuthModal();
      });
      reviewForm.addEventListener("submit", (event) => {
        event.preventDefault();
        if (!selectedRating) { ratingStars.classList.add("shake"); setTimeout(() => ratingStars.classList.remove("shake"), 300); return; }
        const selectedGame = games.find((game) => game.title === reviewGame.value);
        if (!selectedGame) return;
        reviews.push({ name: reviewerInput.value.trim(), game: selectedGame.title, platform: selectedGame.platformLabel, rating: selectedRating, text: reviewText.value.trim() });
        saveReviews();
        reviewForm.reset();
        selectedRating = 0;
        ratingStars.querySelectorAll("button").forEach((star) => star.classList.remove("active"));
        renderReviews();
      });
      reviewPlatform.addEventListener("change", () => {
        renderReviewOptions();
      });
      renderPlatformOptions();
      renderReviewOptions();
      renderReviews();
      updateAuthUi();
    </script>
  </body>
</html>
-->
<!--
<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GameVault — Valutazioni</title>
    <meta
      name="description"
      content="Recensioni e valutazioni della community GameVault."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: dark;
        --bg: #0b0f17;
        --bg-soft: #0f1622;
        --surface: #141b2b;
        --surface-2: #1a2233;
        --border: #23314f;
        --text: #e7edf7;
        --muted: #9aa6c4;
        --accent: #38bdf8;
        --accent-2: #8b5cf6;
        --success: #22c55e;
        --warning: #f97316;
        --danger: #ef4444;
        --shadow: 0 20px 60px rgba(8, 14, 26, 0.45);
        --radius-lg: 22px;
        --radius-md: 16px;
        --radius-sm: 12px;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Inter", system-ui, -apple-system, sans-serif;
        background: radial-gradient(circle at top, #111827 0%, var(--bg) 45%);
        color: var(--text);
        line-height: 1.6;
      }

      a {
        color: inherit;
        text-decoration: none;
      }

      .container {
        width: min(1200px, 92vw);
        margin: 0 auto;
      }

      header {
        position: sticky;
        top: 0;
        z-index: 20;
        background: rgba(11, 15, 23, 0.75);
        backdrop-filter: blur(14px);
        border-bottom: 1px solid rgba(35, 49, 79, 0.7);
      }

      .nav {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px 0;
        gap: 20px;
      }

      .logo {
        font-weight: 800;
        font-size: 1.25rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .logo-badge {
        width: 36px;
        height: 36px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--accent), var(--accent-2));
        display: grid;
        place-items: center;
        font-weight: 700;
      }

      .nav-links {
        display: flex;
        gap: 18px;
        font-weight: 500;
        color: var(--muted);
      }

      .nav-links a.active {
        color: var(--text);
      }

      .nav-actions {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .btn {
        padding: 10px 16px;
        border-radius: 999px;
        border: 1px solid transparent;
        background: var(--surface-2);
        color: var(--text);
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
      }

      .btn:hover {
        border-color: var(--accent);
        color: white;
        transform: translateY(-1px);
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--accent), var(--accent-2));
        border: none;
      }

      .section {
        padding: 60px 0;
      }

      .section-title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        margin-bottom: 24px;
      }

      .section-title h2 {
        font-size: 1.8rem;
      }

      .chip {
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid rgba(35, 49, 79, 0.7);
        color: var(--muted);
        font-size: 0.8rem;
        background: rgba(255, 255, 255, 0.02);
      }

      .reviews-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 18px;
        margin-top: 20px;
      }

      .review-form {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 20px;
        display: grid;
        gap: 12px;
      }

      .review-form input,
      .review-form select,
      .review-form textarea {
        background: var(--surface-2);
        border: 1px solid rgba(35, 49, 79, 0.7);
        color: var(--text);
        padding: 10px 12px;
        border-radius: 10px;
        outline: none;
      }

      .review-form textarea {
        min-height: 120px;
        resize: vertical;
      }

      .rating-input {
        display: grid;
        gap: 6px;
      }

      .rating-stars {
        display: flex;
        gap: 6px;
      }

      .rating-stars button {
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid rgba(35, 49, 79, 0.6);
        color: var(--muted);
        border-radius: 10px;
        padding: 8px 10px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .rating-stars button.active,
      .rating-stars button:hover {
        color: #fbbf24;
        border-color: rgba(251, 191, 36, 0.6);
      }

      .review-card {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        padding: 18px;
        display: grid;
        gap: 10px;
      }

      .review-header {
        display: flex;
        justify-content: space-between;
        gap: 12px;
      }

      .review-header span {
        color: var(--muted);
      }

      .modal-desc {
        color: var(--muted);
      }

      .shake {
        animation: shake 0.3s ease;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-6px);
        }
        75% {
          transform: translateX(6px);
        }
      }

      @media (max-width: 720px) {
        .nav-links {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container nav">
        <div class="logo">
          <span class="logo-badge">GV</span>
          GameVault
        </div>
        <nav class="nav-links">
          <a href="index.html#catalogo">Catalogo</a>
          <a href="valuta.html" class="active">Valutazioni</a>
          <a href="index.html#community">Community</a>
        </nav>
        <div class="nav-actions">
          <button class="btn">Accedi</button>
          <button class="btn btn-primary">Crea account</button>
        </div>
      </div>
    </header>

    <main>
      <section class="section" id="valutazioni">
        <div class="container">
          <div class="section-title">
            <h2>Valutazioni giochi</h2>
            <span class="chip">Recensioni community</span>
          </div>
          <div class="reviews-grid">
            <form class="review-form" id="review-form">
              <h3>Lascia una valutazione</h3>
              <input type="text" id="reviewer" placeholder="Il tuo nome" required />
              <select id="review-game" required>
                <option value="">Seleziona un gioco</option>
              </select>
              <div class="rating-input">
                <label class="muted">Voto</label>
                <div class="rating-stars" id="rating-stars">
                  <button type="button" data-value="1">★</button>
                  <button type="button" data-value="2">★</button>
                  <button type="button" data-value="3">★</button>
                  <button type="button" data-value="4">★</button>
                  <button type="button" data-value="5">★</button>
                </div>
              </div>
              <textarea
                id="review-text"
                placeholder="Scrivi una breve recensione..."
                required
              ></textarea>
              <button class="btn btn-primary" type="submit">Pubblica</button>
            </form>
            <div>
              <div class="section-title" style="margin-bottom: 12px">
                <h3>Ultime recensioni</h3>
                <span class="chip" id="review-count">0</span>
              </div>
              <div class="reviews-grid" id="reviews"></div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script>
      const games = [
        {
          title: "Minecraft",
          platform: ["Nintendo Switch", "PlayStation 4", "PlayStation 3", "Xbox One", "PC"],
          genre: "Adventure",
          rating: 4.8,
          price: 29.99,
          tags: ["Sandbox", "Creative", "Co-op"],
        },
        {
          title: "The Legend of Zelda: Breath of the Wild",
          platform: "Nintendo Switch",
          genre: "Adventure",
          rating: 4.9,
          price: 59.99,
          tags: ["Open World", "Story"],
        },
        {
          title: "Mario Kart 8 Deluxe",
          platform: "Nintendo Switch",
          genre: "Racing",
          rating: 4.8,
          price: 59.99,
          tags: ["Party", "Multiplayer"],
        },
        {
          title: "Super Smash Bros. Ultimate",
          platform: "Nintendo Switch",
          genre: "Action",
          rating: 4.8,
          price: 59.99,
          tags: ["Fighting", "Multiplayer"],
        },
        {
          title: "Animal Crossing: New Horizons",
          platform: "Nintendo Switch",
          genre: "Adventure",
          rating: 4.6,
          price: 49.99,
          tags: ["Cozy", "Simulation"],
        },
        {
          title: "Super Mario Odyssey",
          platform: "Nintendo Switch",
          genre: "Adventure",
          rating: 4.8,
          price: 59.99,
          tags: ["Platform", "Family"],
        },
        {
          title: "Splatoon 3",
          platform: "Nintendo Switch",
          genre: "Action",
          rating: 4.5,
          price: 59.99,
          tags: ["Multiplayer", "Competitive"],
        },
        {
          title: "Pokémon Scarlet",
          platform: "Nintendo Switch",
          genre: "RPG",
          rating: 4.3,
          price: 59.99,
          tags: ["Adventure", "Open World"],
        },
        {
          title: "Metroid Dread",
          platform: "Nintendo Switch",
          genre: "Action",
          rating: 4.6,
          price: 49.99,
          tags: ["Sci-Fi", "Exploration"],
        },
        {
          title: "Xenoblade Chronicles 3",
          platform: "Nintendo Switch",
          genre: "RPG",
          rating: 4.7,
          price: 59.99,
          tags: ["JRPG", "Story"],
        },
        {
          title: "God of War",
          platform: "PlayStation 4",
          genre: "Action",
          rating: 4.9,
          price: 39.99,
          tags: ["Narrative", "Mythology"],
        },
        {
          title: "The Last of Us Remastered",
          platform: "PlayStation 4",
          genre: "Adventure",
          rating: 4.8,
          price: 29.99,
          tags: ["Story", "Survival"],
        },
        {
          title: "Uncharted 4: A Thief's End",
          platform: "PlayStation 4",
          genre: "Adventure",
          rating: 4.7,
          price: 29.99,
          tags: ["Cinematic", "Action"],
        },
        {
          title: "Horizon Zero Dawn",
          platform: "PlayStation 4",
          genre: "Action",
          rating: 4.7,
          price: 29.99,
          tags: ["Open World", "Sci-Fi"],
        },
        {
          title: "Bloodborne",
          platform: "PlayStation 4",
          genre: "RPG",
          rating: 4.6,
          price: 19.99,
          tags: ["Soulslike", "Gothic"],
        },
        {
          title: "Marvel's Spider-Man",
          platform: "PlayStation 4",
          genre: "Action",
          rating: 4.8,
          price: 39.99,
          tags: ["Open World", "Superhero"],
        },
        {
          title: "Ghost of Tsushima",
          platform: "PlayStation 4",
          genre: "Action",
          rating: 4.7,
          price: 49.99,
          tags: ["Samurai", "Open World"],
        },
        {
          title: "Grand Theft Auto V",
          platform: ["PlayStation 4", "PlayStation 3", "Xbox One", "PC"],
          genre: "Action",
          rating: 4.7,
          price: 29.99,
          tags: ["Open World", "Crime"],
        },
        {
          title: "Red Dead Redemption 2",
          platform: ["PlayStation 4", "Xbox One", "PC"],
          genre: "Adventure",
          rating: 4.8,
          price: 59.99,
          tags: ["Open World", "Story"],
        },
        {
          title: "Persona 5",
          platform: "PlayStation 4",
          genre: "RPG",
          rating: 4.7,
          price: 39.99,
          tags: ["JRPG", "Stylish"],
        },
        {
          title: "The Last of Us",
          platform: "PlayStation 3",
          genre: "Adventure",
          rating: 4.8,
          price: 19.99,
          tags: ["Story", "Survival"],
        },
        {
          title: "Grand Theft Auto V",
          platform: "PlayStation 3",
          genre: "Action",
          rating: 4.6,
          price: 19.99,
          tags: ["Open World", "Crime"],
        },
        {
          title: "Uncharted 2: Among Thieves",
          platform: "PlayStation 3",
          genre: "Adventure",
          rating: 4.7,
          price: 14.99,
          tags: ["Cinematic", "Action"],
        },
        {
          title: "Uncharted 3: Drake's Deception",
          platform: "PlayStation 3",
          genre: "Adventure",
          rating: 4.5,
          price: 14.99,
          tags: ["Cinematic", "Action"],
        },
        {
          title: "Metal Gear Solid 4",
          platform: "PlayStation 3",
          genre: "Action",
          rating: 4.6,
          price: 19.99,
          tags: ["Stealth", "Story"],
        },
        {
          title: "Red Dead Redemption",
          platform: "PlayStation 3",
          genre: "Adventure",
          rating: 4.6,
          price: 14.99,
          tags: ["Open World", "Western"],
        },
        {
          title: "God of War III",
          platform: "PlayStation 3",
          genre: "Action",
          rating: 4.5,
          price: 19.99,
          tags: ["Mythology", "Epic"],
        },
        {
          title: "Gran Turismo 6",
          platform: "PlayStation 3",
          genre: "Racing",
          rating: 4.3,
          price: 14.99,
          tags: ["Simulation", "Cars"],
        },
        {
          title: "Batman: Arkham City",
          platform: "PlayStation 3",
          genre: "Action",
          rating: 4.5,
          price: 14.99,
          tags: ["Superhero", "Open World"],
        },
        {
          title: "The Elder Scrolls V: Skyrim",
          platform: "PlayStation 3",
          genre: "RPG",
          rating: 4.4,
          price: 19.99,
          tags: ["Fantasy", "Open World"],
        },
        {
          title: "Pokémon Sun",
          platform: "Nintendo 3DS",
          genre: "RPG",
          rating: 4.3,
          price: 24.99,
          tags: ["Adventure", "Turn-Based"],
        },
        {
          title: "Pokémon X",
          platform: "Nintendo 3DS",
          genre: "RPG",
          rating: 4.4,
          price: 24.99,
          tags: ["Adventure", "Turn-Based"],
        },
        {
          title: "Animal Crossing: New Leaf",
          platform: "Nintendo 3DS",
          genre: "Adventure",
          rating: 4.6,
          price: 29.99,
          tags: ["Cozy", "Simulation"],
        },
        {
          title: "Mario Kart 7",
          platform: "Nintendo 3DS",
          genre: "Racing",
          rating: 4.5,
          price: 29.99,
          tags: ["Party", "Multiplayer"],
        },
        {
          title: "Super Mario 3D Land",
          platform: "Nintendo 3DS",
          genre: "Adventure",
          rating: 4.4,
          price: 24.99,
          tags: ["Platform", "Family"],
        },
        {
          title: "The Legend of Zelda: Ocarina of Time 3D",
          platform: "Nintendo 3DS",
          genre: "Adventure",
          rating: 4.7,
          price: 29.99,
          tags: ["Classic", "Story"],
        },
        {
          title: "Fire Emblem: Awakening",
          platform: "Nintendo 3DS",
          genre: "Strategy",
          rating: 4.6,
          price: 29.99,
          tags: ["Tactical", "Story"],
        },
        {
          title: "Luigi's Mansion 2",
          platform: "Nintendo 3DS",
          genre: "Adventure",
          rating: 4.2,
          price: 24.99,
          tags: ["Puzzle", "Comedy"],
        },
        {
          title: "Monster Hunter 4 Ultimate",
          platform: "Nintendo 3DS",
          genre: "Action",
          rating: 4.6,
          price: 29.99,
          tags: ["Co-op", "Hunting"],
        },
        {
          title: "Kirby: Triple Deluxe",
          platform: "Nintendo 3DS",
          genre: "Adventure",
          rating: 4.1,
          price: 19.99,
          tags: ["Platform", "Family"],
        },
        {
          title: "Pokémon Red",
          platform: "Game Boy",
          genre: "RPG",
          rating: 4.5,
          price: 9.99,
          tags: ["Classic", "Turn-Based"],
        },
        {
          title: "Pokémon Blue",
          platform: "Game Boy",
          genre: "RPG",
          rating: 4.5,
          price: 9.99,
          tags: ["Classic", "Turn-Based"],
        },
        {
          title: "Pokémon Yellow",
          platform: "Game Boy",
          genre: "RPG",
          rating: 4.4,
          price: 9.99,
          tags: ["Classic", "Turn-Based"],
        },
        {
          title: "Pokémon Crystal",
          platform: "Game Boy",
          genre: "RPG",
          rating: 4.5,
          price: 9.99,
          tags: ["Classic", "Turn-Based"],
        },
        {
          title: "Tetris",
          platform: "Game Boy",
          genre: "Strategy",
          rating: 4.7,
          price: 7.99,
          tags: ["Puzzle", "Iconic"],
        },
        {
          title: "The Legend of Zelda: Link's Awakening",
          platform: "Game Boy",
          genre: "Adventure",
          rating: 4.6,
          price: 9.99,
          tags: ["Classic", "Story"],
        },
        {
          title: "Super Mario Land",
          platform: "Game Boy",
          genre: "Adventure",
          rating: 4.2,
          price: 7.99,
          tags: ["Platform", "Classic"],
        },
        {
          title: "Metroid II: Return of Samus",
          platform: "Game Boy",
          genre: "Action",
          rating: 4.1,
          price: 8.99,
          tags: ["Sci-Fi", "Exploration"],
        },
        {
          title: "Donkey Kong",
          platform: "Game Boy",
          genre: "Adventure",
          rating: 4.3,
          price: 8.99,
          tags: ["Puzzle", "Classic"],
        },
        {
          title: "Kirby's Dream Land",
          platform: "Game Boy",
          genre: "Adventure",
          rating: 4.2,
          price: 7.99,
          tags: ["Platform", "Family"],
        },
        {
          title: "Forza Horizon 5",
          platform: "Xbox Series X|S",
          genre: "Racing",
          rating: 4.8,
          price: 59.99,
          tags: ["Open World", "Multiplayer"],
        },
        {
          title: "Halo Infinite",
          platform: "Xbox Series X|S",
          genre: "Action",
          rating: 4.4,
          price: 49.99,
          tags: ["Shooter", "Co-op"],
        },
        {
          title: "Starfield",
          platform: "Xbox Series X|S",
          genre: "RPG",
          rating: 4.2,
          price: 69.99,
          tags: ["Sci-Fi", "Open World"],
        },
        {
          title: "Microsoft Flight Simulator",
          platform: "Xbox Series X|S",
          genre: "Strategy",
          rating: 4.5,
          price: 59.99,
          tags: ["Simulation", "Realism"],
        },
        {
          title: "Forza Motorsport",
          platform: "Xbox Series X|S",
          genre: "Racing",
          rating: 4.3,
          price: 69.99,
          tags: ["Simulation", "Cars"],
        },
        {
          title: "Gears 5",
          platform: "Xbox Series X|S",
          genre: "Action",
          rating: 4.4,
          price: 39.99,
          tags: ["Co-op", "Shooter"],
        },
        {
          title: "Sea of Thieves",
          platform: "Xbox Series X|S",
          genre: "Adventure",
          rating: 4.2,
          price: 39.99,
          tags: ["Co-op", "Pirates"],
        },
        {
          title: "Hi-Fi RUSH",
          platform: "Xbox Series X|S",
          genre: "Action",
          rating: 4.6,
          price: 29.99,
          tags: ["Rhythm", "Stylish"],
        },
        {
          title: "Elden Ring",
          platform: ["Xbox Series X|S", "PC", "Steam Deck"],
          genre: "RPG",
          rating: 4.7,
          price: 59.99,
          tags: ["Soulslike", "Epic"],
        },
        {
          title: "Call of Duty: Modern Warfare II",
          platform: "Xbox Series X|S",
          genre: "Action",
          rating: 4.2,
          price: 69.99,
          tags: ["Shooter", "Multiplayer"],
        },
        {
          title: "Halo 5: Guardians",
          platform: "Xbox One",
          genre: "Action",
          rating: 4.1,
          price: 19.99,
          tags: ["Shooter", "Co-op"],
        },
        {
          title: "Forza Horizon 4",
          platform: "Xbox One",
          genre: "Racing",
          rating: 4.6,
          price: 39.99,
          tags: ["Open World", "Multiplayer"],
        },
        {
          title: "Gears of War 4",
          platform: "Xbox One",
          genre: "Action",
          rating: 4.2,
          price: 29.99,
          tags: ["Shooter", "Co-op"],
        },
        {
          title: "Sea of Thieves",
          platform: "Xbox One",
          genre: "Adventure",
          rating: 4.1,
          price: 29.99,
          tags: ["Co-op", "Pirates"],
        },
        {
          title: "Forza Motorsport 7",
          platform: "Xbox One",
          genre: "Racing",
          rating: 4.3,
          price: 29.99,
          tags: ["Simulation", "Cars"],
        },
        {
          title: "Minecraft",
          platform: ["Xbox One", "Nintendo Switch", "PlayStation 4", "PC"],
          genre: "Adventure",
          rating: 4.7,
          price: 19.99,
          tags: ["Sandbox", "Creative"],
        },
        {
          title: "Grand Theft Auto V",
          platform: ["Xbox One", "PlayStation 4", "PlayStation 3", "PC"],
          genre: "Action",
          rating: 4.6,
          price: 29.99,
          tags: ["Open World", "Crime"],
        },
        {
          title: "Red Dead Redemption 2",
          platform: ["Xbox One", "PlayStation 4", "PC"],
          genre: "Adventure",
          rating: 4.7,
          price: 49.99,
          tags: ["Open World", "Story"],
        },
        {
          title: "FIFA 23",
          platform: "Xbox One",
          genre: "Sport",
          rating: 4.0,
          price: 39.99,
          tags: ["Football", "Multiplayer"],
        },
        {
          title: "Assassin's Creed Origins",
          platform: "Xbox One",
          genre: "Action",
          rating: 4.2,
          price: 29.99,
          tags: ["Open World", "History"],
        },
        {
          title: "Counter-Strike 2",
          platform: "PC",
          genre: "Action",
          rating: 4.6,
          price: 0.0,
          tags: ["Competitive", "Shooter"],
        },
        {
          title: "Dota 2",
          platform: "PC",
          genre: "Strategy",
          rating: 4.4,
          price: 0.0,
          tags: ["MOBA", "Competitive"],
        },
        {
          title: "League of Legends",
          platform: "PC",
          genre: "Strategy",
          rating: 4.3,
          price: 0.0,
          tags: ["MOBA", "Esports"],
        },
        {
          title: "VALORANT",
          platform: "PC",
          genre: "Action",
          rating: 4.3,
          price: 0.0,
          tags: ["Shooter", "Competitive"],
        },
        {
          title: "Fortnite",
          platform: "PC",
          genre: "Action",
          rating: 4.2,
          price: 0.0,
          tags: ["Battle Royale", "Multiplayer"],
        },
        {
          title: "Minecraft",
          platform: ["PC", "Nintendo Switch", "PlayStation 4", "PlayStation 3", "Xbox One"],
          genre: "Adventure",
          rating: 4.8,
          price: 29.99,
          tags: ["Sandbox", "Creative"],
        },
        {
          title: "Grand Theft Auto V",
          platform: ["PC", "PlayStation 4", "PlayStation 3", "Xbox One"],
          genre: "Action",
          rating: 4.7,
          price: 29.99,
          tags: ["Open World", "Crime"],
        },
        {
          title: "Red Dead Redemption 2",
          platform: ["PC", "PlayStation 4", "Xbox One"],
          genre: "Adventure",
          rating: 4.8,
          price: 59.99,
          tags: ["Open World", "Story"],
        },
        {
          title: "The Witcher 3: Wild Hunt",
          platform: "PC",
          genre: "RPG",
          rating: 4.9,
          price: 39.99,
          tags: ["Fantasy", "Open World"],
        },
        {
          title: "Cyberpunk 2077",
          platform: "PC",
          genre: "RPG",
          rating: 4.4,
          price: 59.99,
          tags: ["Sci-Fi", "Open World"],
        },
        {
          title: "Baldur's Gate 3",
          platform: "PC",
          genre: "RPG",
          rating: 4.9,
          price: 59.99,
          tags: ["Party", "Story"],
        },
        {
          title: "Elden Ring",
          platform: ["PC", "Xbox Series X|S", "Steam Deck"],
          genre: "RPG",
          rating: 4.7,
          price: 59.99,
          tags: ["Soulslike", "Epic"],
        },
        {
          title: "Hades",
          platform: "PC",
          genre: "Indie",
          rating: 4.8,
          price: 24.99,
          tags: ["Roguelike", "Action"],
        },
        {
          title: "Among Us",
          platform: "PC",
          genre: "Indie",
          rating: 4.1,
          price: 4.99,
          tags: ["Party", "Social"],
        },
        {
          title: "Elden Ring",
          platform: ["Steam Deck", "PC", "Xbox Series X|S"],
          genre: "RPG",
          rating: 4.7,
          price: 59.99,
          tags: ["Soulslike", "Epic"],
        },
        {
          title: "Hades",
          platform: "Steam Deck",
          genre: "Indie",
          rating: 4.8,
          price: 24.99,
          tags: ["Roguelike", "Action"],
        },
        {
          title: "Stardew Valley",
          platform: "Steam Deck",
          genre: "Indie",
          rating: 4.8,
          price: 14.99,
          tags: ["Cozy", "Simulation"],
        },
        {
          title: "Hollow Knight",
          platform: "Steam Deck",
          genre: "Indie",
          rating: 4.7,
          price: 14.99,
          tags: ["Metroidvania", "Action"],
        },
        {
          title: "Celeste",
          platform: "Steam Deck",
          genre: "Indie",
          rating: 4.7,
          price: 19.99,
          tags: ["Platform", "Story"],
        },
        {
          title: "Dead Cells",
          platform: "Steam Deck",
          genre: "Indie",
          rating: 4.6,
          price: 24.99,
          tags: ["Roguelike", "Action"],
        },
        {
          title: "Slay the Spire",
          platform: "Steam Deck",
          genre: "Strategy",
          rating: 4.6,
          price: 24.99,
          tags: ["Deckbuilder", "Roguelike"],
        },
        {
          title: "Risk of Rain 2",
          platform: "Steam Deck",
          genre: "Action",
          rating: 4.5,
          price: 24.99,
          tags: ["Co-op", "Roguelike"],
        },
        {
          title: "Baldur's Gate 3",
          platform: "Steam Deck",
          genre: "RPG",
          rating: 4.8,
          price: 59.99,
          tags: ["Party", "Story"],
        },
        {
          title: "The Witcher 3: Wild Hunt",
          platform: "Steam Deck",
          genre: "RPG",
          rating: 4.8,
          price: 39.99,
          tags: ["Fantasy", "Open World"],
        },
        {
          title: "Super Mario 3D World",
          platform: "Wii U",
          genre: "Adventure",
          rating: 4.6,
          price: 29.99,
          tags: ["Platform", "Co-op"],
        },
        {
          title: "Mario Kart 8",
          platform: "Wii U",
          genre: "Racing",
          rating: 4.6,
          price: 29.99,
          tags: ["Party", "Multiplayer"],
        },
        {
          title: "Super Smash Bros. for Wii U",
          platform: "Wii U",
          genre: "Action",
          rating: 4.4,
          price: 24.99,
          tags: ["Fighting", "Multiplayer"],
        },
        {
          title: "Splatoon",
          platform: "Wii U",
          genre: "Action",
          rating: 4.3,
          price: 24.99,
          tags: ["Multiplayer", "Competitive"],
        },
        {
          title: "The Legend of Zelda: The Wind Waker HD",
          platform: "Wii U",
          genre: "Adventure",
          rating: 4.7,
          price: 29.99,
          tags: ["Classic", "Story"],
        },
        {
          title: "Pikmin 3",
          platform: "Wii U",
          genre: "Strategy",
          rating: 4.2,
          price: 24.99,
          tags: ["RTS", "Co-op"],
        },
        {
          title: "Bayonetta 2",
          platform: "Wii U",
          genre: "Action",
          rating: 4.5,
          price: 29.99,
          tags: ["Stylish", "Hack&Slash"],
        },
        {
          title: "Donkey Kong Country: Tropical Freeze",
          platform: "Wii U",
          genre: "Adventure",
          rating: 4.4,
          price: 24.99,
          tags: ["Platform", "Co-op"],
        },
        {
          title: "New Super Mario Bros. U",
          platform: "Wii U",
          genre: "Adventure",
          rating: 4.2,
          price: 24.99,
          tags: ["Platform", "Family"],
        },
        {
          title: "Super Mario Maker",
          platform: "Wii U",
          genre: "Strategy",
          rating: 4.4,
          price: 24.99,
          tags: ["Creative", "Platform"],
        },
        {
          title: "Grand Theft Auto: San Andreas",
          platform: "PS2",
          genre: "Action",
          rating: 4.7,
          price: 14.99,
          tags: ["Classic", "Open World"],
        },
        {
          title: "Grand Theft Auto: Vice City",
          platform: "PS2",
          genre: "Action",
          rating: 4.6,
          price: 14.99,
          tags: ["Classic", "Open World"],
        },
        {
          title: "Grand Theft Auto III",
          platform: "PS2",
          genre: "Action",
          rating: 4.4,
          price: 12.99,
          tags: ["Classic", "Open World"],
        },
        {
          title: "God of War",
          platform: "PS2",
          genre: "Action",
          rating: 4.6,
          price: 14.99,
          tags: ["Mythology", "Epic"],
        },
        {
          title: "God of War II",
          platform: "PS2",
          genre: "Action",
          rating: 4.7,
          price: 14.99,
          tags: ["Mythology", "Epic"],
        },
        {
          title: "Metal Gear Solid 2",
          platform: "PS2",
          genre: "Action",
          rating: 4.6,
          price: 14.99,
          tags: ["Stealth", "Story"],
        },
        {
          title: "Shadow of the Colossus",
          platform: "PS2",
          genre: "Adventure",
          rating: 4.7,
          price: 14.99,
          tags: ["Epic", "Story"],
        },
        {
          title: "Gran Turismo 4",
          platform: "PS2",
          genre: "Racing",
          rating: 4.4,
          price: 12.99,
          tags: ["Simulation", "Cars"],
        },
        {
          title: "Final Fantasy X",
          platform: "PS2",
          genre: "RPG",
          rating: 4.6,
          price: 14.99,
          tags: ["JRPG", "Story"],
        },
        {
          title: "Kingdom Hearts",
          platform: "PS2",
          genre: "RPG",
          rating: 4.5,
          price: 14.99,
          tags: ["Fantasy", "Adventure"],
        },
      ];

      const reviewForm = document.getElementById("review-form");
      const reviewGame = document.getElementById("review-game");
      const reviewText = document.getElementById("review-text");
      const reviewerInput = document.getElementById("reviewer");
      const reviewList = document.getElementById("reviews");
      const reviewCount = document.getElementById("review-count");
      const ratingStars = document.getElementById("rating-stars");
      let selectedRating = 0;

      games.forEach((game) => {
        game.platforms = Array.isArray(game.platform)
          ? game.platform
          : [game.platform];
        game.platformLabel = game.platforms.join(" / ");
      });

      const renderReviewOptions = () => {
        reviewGame.innerHTML = '<option value="">Seleziona un gioco</option>';
        games.forEach((game) => {
          const option = document.createElement("option");
          option.value = game.title;
          option.textContent = game.title;
          reviewGame.appendChild(option);
        });
      };

      const reviews = [];

      const renderReviews = () => {
        reviewList.innerHTML = "";
        reviews.slice().reverse().forEach((review) => {
          const card = document.createElement("article");
          card.className = "review-card";
          card.innerHTML = `
            <div class="review-header">
              <div>
                <strong>${review.game}</strong>
                <div class="muted">${review.name}</div>
              </div>
              <div>
                <strong>${review.rating} ★</strong>
                <div class="muted">${review.platform}</div>
              </div>
            </div>
            <p class="modal-desc">${review.text}</p>
          `;
          reviewList.appendChild(card);
        });
        reviewCount.textContent = reviews.length;
      };

      ratingStars.querySelectorAll("button").forEach((button) => {
        button.addEventListener("click", () => {
          selectedRating = Number(button.dataset.value);
          ratingStars.querySelectorAll("button").forEach((star) => {
            star.classList.toggle(
              "active",
              Number(star.dataset.value) <= selectedRating
            );
          });
        });
      });

      reviewForm.addEventListener("submit", (event) => {
        event.preventDefault();
        if (!selectedRating) {
          ratingStars.classList.add("shake");
          setTimeout(() => ratingStars.classList.remove("shake"), 300);
          return;
        }
        const selectedGame = games.find((game) => game.title === reviewGame.value);
        if (!selectedGame) {
          return;
        }
        reviews.push({
          name: reviewerInput.value.trim(),
          game: selectedGame.title,
          platform: selectedGame.platformLabel,
          rating: selectedRating,
          text: reviewText.value.trim(),
        });
        reviewForm.reset();
        selectedRating = 0;
        ratingStars
          .querySelectorAll("button")
          .forEach((star) => star.classList.remove("active"));
        renderReviews();
      });

      renderReviewOptions();
      renderReviews();
    </script>
  </body>
</html>
